{"version":3,"sources":["components/Login/login.module.css","assets/img.jpg","Helps/StageMap.tsx","components/VaidatorInfo/ValidatorInfo.tsx","api/serviceApi.ts","redux/reducers/articlesReducer.tsx","redux/reducers/authReducer.ts","components/Login/Login.tsx","components/Menu/Menu.tsx","redux/reducers/usersReducer.ts","components/Cards/Cards.tsx","components/Modal/Modal.tsx","components/Main/AdminPanel.tsx","components/Main/Main.tsx","components/Main/MainContainer.tsx","redux/reducers/registerReducer.tsx","components/Register/Register.tsx","components/Cards/Comments.tsx","components/Article/Article.tsx","components/Home/Header.js","components/Home/Footer.js","components/Home/Blog.jsx","redux/reducers/journalReducer.ts","components/About/About.tsx","components/Cards/AllCards.tsx","components/Home/FeaturedPost.js","App.tsx","redux/reduxStore.ts","index.tsx"],"names":["module","exports","STAGEMAP","TOPICS","ValidatorInput","input","type","placeholder","meta","name","TextField","variant","margin","required","fullWidth","id","label","autoFocus","baseURL","getUserAuth","login","password","axios","post","then","res","data","role","articlesAPI","get","autor","descr","title","document","category","formData","FormData","append","headers","delete","text","stage","put","articleId","userId","review","article","reviewer","idArticle","idReviewer","usersAPI","lastname","journalAPI","initialState","articles","fullArticle","comments","isDark","isLoad","isDelete","allActionCreators","payload","prop","setDarkMode","setLoad","getArticles","dispatch","a","getComments","currentArticle","filter","newReview","isInit","isAuth","isAuthor","isEditor","isReviewer","isAdmin","allActionCreaters","payLoad","logOut","localStorage","removeItem","getAuth","value","setItem","stopSubmit","_error","getInit","getItem","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","minHeight","avatar","backgroundColor","palette","secondary","main","form","width","submit","link","color","textDecoration","LoginForm","reduxForm","props","handleSubmit","error","classes","Container","component","maxWidth","style","paddingTop","CssBaseline","className","Avatar","Typography","onSubmit","Field","Button","Grid","container","item","to","c","commonError","connect","state","auth","createStyles","root","flexGrow","fontSize","nav","justifyContent","setShowAll","useSelector","AppBar","position","Toolbar","onClick","users","getUsers","paddingBottom","media","height","icons","marginLeft","padding","overflow","primary","light","author","marginBottom","reviewBlock","reviewText","MediaCard","useTheme","useState","waitMode","setWait","textReview","setTextReview","editMode","setEdit","isSend","setSend","useDispatch","allReviewers","user","useEffect","onSend","editStage","onReviewSendHandler","sendArticle","isReviewText","Card","CardActionArea","CardMedia","image","img","CardContent","gutterBottom","map","Fragment","key","align","disabled","rows","multiline","onChange","e","target","approved","Link","href","StatusComponent","breakpoints","down","background","modalTitle","readerInput","btns","fileName","uploadButton","formControl","minWidth","ModalWindow","setTitle","setDescr","setFile","setCategory","Modal","open","onClose","handleModal","aria-labelledby","aria-describedby","setRole","FormControlLabel","control","files","length","onFileSave","onSave","SelectCategory","FormControl","InputLabel","Select","labelId","event","MenuItem","MEDICINE","NAVALNY","PROGRAMMING","SCIENCE","table","selectEmpty","AdminPanel","setEditMode","modal","setModal","selectUsers","TableContainer","Paper","Table","aria-label","TableHead","TableRow","TableCell","TableBody","onDeleteHandle","deleteUser","Tooltip","Fab","EditForm","onRoleHandler","changeRole","Users","scope","ModalNewUser","setLogin","setPassword","setName","lastName","setLastName","newUser","NewSelectUser","btn","bottom","right","HelpComponent","mag","Reader","postArticle","setOpen","showAll","authorCards","el","reviewerCards","editorCards","Main","isOk","selector","formValueSelector","register","toRegister","dataRegister","isSave","FormHelperText","wrapper","comment","borderBottom","fontWeight","inputBlock","icon","top","transform","Comments","setText","onComment","postComments","items","backgroundImage","backgroundSize","backgroundPosition","helpIcon","paddingLeft","deleteIcon","marginRight","descrInput","getFullArticle","deleteArticle","useParams","edit","CircularProgress","currentAuthor","elevation","cursor","toolbar","divider","toolbarTitle","toolbarSecondary","overflowX","toolbarLink","flexShrink","logo","CustomLink","path","children","border","isAbout","permition","src","alt","noWrap","size","Copyright","Date","getFullYear","footer","Footer","description","IOSSwitch","withStyles","switchBase","common","white","opacity","thumb","track","borderRadius","grey","transition","transitions","create","checked","focusVisible","Switch","focusVisibleClassName","disableRipple","mainGrid","mode","itemList","listStyle","links","help","Content","paragraph","xs","journals","setJournals","Articles","onDeleteHandler","deleteJournal","NewJournalModal","setDocument","newJournal","About","selectJournals","AllCards","card","cardDetails","flex","cardMedia","subTitles","FeaturedPost","CategoryCards","featuredPosts","isFeaturedPosts","darkMode","initialization","createMuiTheme","ThemeProvider","exact","Register","from","rootReducer","combineReducers","action","arr","formReducer","store","createStore","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2e37021c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formWrapper\":\"login_formWrapper__3_nbY\",\"form\":\"login_form__1XT1R\",\"formBtn\":\"login_formBtn__3vSS6\",\"logo\":\"login_logo__2IlKz\",\"commonError\":\"login_commonError__MnPaM\",\"title\":\"login_title__-abuw\"};","module.exports = __webpack_public_path__ + \"static/media/img.47efbeaf.jpg\";","export enum STAGEMAP {\n    'created' = \"0\",\n    'waiting reviewer' = \"1\",\n    'reviewer' = \"2\",\n    'waiting editor' = \"3\", \n    'editor' = \"4\",\n    'approved' = \"6\",\n}\n\nexport enum TOPICS {\n    PROGRAMMING = 'programming',\n    MEDICINE = 'medicine',\n    SCIENCE = 'science',\n    NAVALNY = 'navalny'\n}","import React from 'react';\nimport { WrappedFieldInputProps, WrappedFieldMetaProps } from 'redux-form';\nimport { TextField } from '@material-ui/core';\n\ntype CommonProps = {\n    input: WrappedFieldInputProps\n    type: string\n    placeholder: string\n    meta: WrappedFieldMetaProps,\n    name: string\n}\n\nexport const ValidatorInput = ({input, type, placeholder, meta, name}:CommonProps) => {\n    return <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id={placeholder}\n                label={placeholder}\n                autoFocus\n                type={type}\n                {...input}\n            />\n}\n","import axios from 'axios';\nimport { STAGEMAP } from '../Helps/StageMap';\nimport { ArticleEdit, Articles, SaveNewArticle } from '../types/Articles';\nimport { Auth, Register } from '../types/Auth';\nimport { CommentsType } from '../types/Comments';\n\nconst baseURL = 'http://backend.doit.kamisuel.cyou'\n\ntype API<T> = {\n    articles: Array<T>\n    comment: Array<CommentsType>\n}\n\nexport const getUserAuth = {\n    getAuth({login, password}: Auth) {\n        return axios.post(`${baseURL}/logon`, {login, password}).then(res=>res.data)\n    },\n    getRegister({login, password, role}:Register) {\n        return axios.post(baseURL+'/signup ', {login, password, role}).then(res => res.data)\n    }\n}\n\nexport const articlesAPI = {\n    getArticles() {\n        return axios.get<API<Articles>>(`${baseURL}/articles`).then(res=>res.data)\n    },\n    postArticle({autor, descr, title, document,category}:SaveNewArticle) {\n        const formData = new FormData();\n        if(document) {\n            formData.append('document', document)\n        }\n        if(autor) {\n            formData.append(\"autor\", autor);\n        }\n        formData.append(\"descr\", descr);\n        formData.append(\"title\", title);\n        formData.append(\"category\", category);\n        return axios.post(`${baseURL}/articles/new`, formData, {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        })\n    },\n    getFullArticle(id='') {\n        return axios.get(`${baseURL}/article/${id}`).then(res=>res.data)\n    },\n    deleteArticle(id:string) {\n        return axios.delete(`${baseURL}/article/${id}`)\n    },\n    postComment(id: string|number, autor:string|null, text:string) {\n        return axios.post(`${baseURL}/article/${id}/comment/new`, {id, text, autor}).then(res=>res.data)\n    },\n    editArticle({title, descr, id}:ArticleEdit) {\n        return axios.post(`${baseURL}/article/${id}/update`, {title, descr}).then(res=>res.data)\n    },\n    editStage(stage:STAGEMAP, id: string | number) {\n        return axios.put(`${baseURL}/article/${id}/stage/${stage}`)\n    },\n    getReview(id:string) {\n        return axios.get(`${baseURL}/review/${id}`).then(res => res.data)\n    },\n    postNewReview(articleId:string, userId:string, review:string) {\n        return axios.post(`${baseURL}/review/new`, {article: articleId, reviewer: userId, review})\n    },\n    editReview(id:string, text: string) {\n        return axios.put(`${baseURL}/review/${id}/review`, {review: text})\n    },\n    sendArticle(idArticle:string, idReviewer:string) {\n        return axios.post(`${baseURL}/review/new`,{article: idArticle, reviewer:idReviewer})\n    }\n}\n\nexport const usersAPI = {\n    getUsers() {\n        return axios.get(`${baseURL}/users`).then(res=>res.data)\n    },\n    deleteUser(id:string) {\n        return axios.delete(`${baseURL}/user/${id}`)\n    },\n    changeRole(id:string, role:string) {\n        return axios.put(`${baseURL}/user/${id}`, {role})\n    },\n    getRegister({login, password, role, name='', lastname=''}:Register) {\n        return axios.post(baseURL+'/signup ', {login, password, role, name, lastname})\n    }\n}\n\nexport const journalAPI = {\n    getJournals() {\n        return axios.get(`${baseURL}/journals`).then(res => res.data)\n    },\n    newJournal(name:string,document:File) {\n        const formData = new FormData()\n        formData.append('document', document)\n        formData.append('name', name)\n        return axios.post(`${baseURL}/journal/new`, formData, {\n            headers: {\n                'content-type': 'multipart/form-data'\n            }\n        })\n    },\n    deleteJournal(id: string) {\n        return axios.delete(`${baseURL}/journal/${id}`)\n    }\n}\n\n","import { articlesAPI } from \"../../api/serviceApi\";\nimport { ArticleEdit, Articles } from \"../../types/Articles\";\nimport { ActionThunkType, AllActions } from \"../reduxStore\";\nimport { SaveNewArticle } from '../../types/Articles'\nimport { CommentsType } from \"../../types/Comments\";\nimport { STAGEMAP } from '../../Helps/StageMap'\n\nconst SETARTICLES = 'SETARTICLES';\nconst SETFULLARTICLE = 'SETFULLARTICLE';\nconst SETDARK = 'SETDARK';\nconst SETCOMMENT = 'SETCOMMENT';\nconst EDITARTICLE = 'EDITARTICLE';\nconst SETLOAD = 'SETLOAD';\nconst SETDELETE = 'SETDELETE';\nconst SETSTAGE = 'SETSTAGE';\nconst SETNEWREVIEW = 'SETNEWREVIEW';\n\n\nconst initialState = {\n    articles: [] as Array<Articles>,\n    fullArticle: {} as Articles,\n    comments: [] as Array<CommentsType>,\n    review: {} as any,\n    stage: \"0\",\n    isDark: false,\n    isLoad: true,\n    isDelete: false\n}\n\nexport const articlesReducer = (state = initialState, action:ArticlesAction):StateArticles => {\n    switch(action.type) {\n        case SETARTICLES: {\n            return {\n                ...state,\n                articles: action.payload,\n            }\n        }\n        case SETFULLARTICLE: {\n            return {\n                ...state,\n                fullArticle: action.fullArticle\n            }\n        }\n        case SETCOMMENT: {\n            return {\n                ...state,\n                comments: action.comments\n            }\n        }\n        case EDITARTICLE: {\n            return {\n                ...state,\n                fullArticle: {\n                    ...state.fullArticle,\n                    ...action.payload\n                }\n            }\n        }\n        case SETLOAD: {\n            return {\n                ...state,\n                isLoad: action.prop\n            }\n        }\n        case SETDARK: {\n            return {\n                ...state,\n                isDark: !state.isDark\n            }\n        }\n        case SETDELETE: {\n            return {\n                ...state, \n                isDelete: action.prop\n            }\n        }\n        case SETSTAGE: {\n            return {\n                ...state,\n                stage: action.stage\n            }\n        }\n        case SETNEWREVIEW: {\n            return {\n                ...state,\n                review: action.arr\n            }\n        }\n        default: \n            return state\n    }\n\n}\n\nconst allActionCreators = {\n    setArticles:(payload:Array<Articles>) => ({type:SETARTICLES, payload} as const),\n    setFullArticle:(fullArticle:Articles) => ({type:SETFULLARTICLE, fullArticle} as const),\n    setComments:(comments:Array<CommentsType>) => ({type:SETCOMMENT, comments} as const),\n    editArticle:(payload:ArticleEdit) => ({type:EDITARTICLE, payload} as const),\n    setLoad:(prop:boolean) => ({type:SETLOAD, prop} as const),\n    setDark:(prop:boolean) => ({type:SETDARK} as const),\n    setDelete: (prop: boolean) => ({type: SETDELETE, prop} as const),\n    setStage: (stage: STAGEMAP) => ({type: SETSTAGE, stage} as const),\n    setNewReview: (arr: any) => ({type: SETNEWREVIEW, arr} as const),\n}\n\nexport const setDarkMode = allActionCreators.setDark\nexport const setLoad = allActionCreators.setLoad\n\n/////////\n//THUNK//\n/////////\n\nexport const getArticles = ():ArticlesThunk => async (dispatch) => {\n    dispatch(allActionCreators.setDelete(false))\n    const data = await articlesAPI.getArticles()\n    dispatch(allActionCreators.setArticles(data.articles))\n}\n\nexport const getComments = (id:any):ArticlesThunk => async (dispatch) => {\n    const comments = await articlesAPI.getArticles()\n    const currentArticle = comments.articles.filter(article => article.id===+id)\n    dispatch(allActionCreators.setComments(currentArticle[0].comments))\n}\n\nexport const postArticle = (value:SaveNewArticle):ArticlesThunk => async dispatch => {\n    await articlesAPI.postArticle(value)\n    dispatch(getArticles())\n}\n\nexport const deleteArticle = (id:string):ArticlesThunk => async dispatch => {\n    await articlesAPI.deleteArticle(id)\n    dispatch(getArticles())\n    dispatch(allActionCreators.setDelete(true))\n}\nexport const postComments = (id: string|number, autor:string|null, text:string):ArticlesThunk => async dispatch => {\n    await articlesAPI.postComment(id, autor, text)\n    dispatch(getComments(id))\n}\nexport const editArticle = (payload: ArticleEdit):ArticlesThunk => async dispatch => {\n    dispatch(allActionCreators.setLoad(true))\n    await articlesAPI.editArticle(payload)\n    dispatch(allActionCreators.setLoad(false))\n}\n\nexport const getFullArticle = (id=''):ArticlesThunk => async (dispatch) => {\n    dispatch(allActionCreators.setLoad(true))\n    const data = await articlesAPI.getFullArticle(id);\n    dispatch(allActionCreators.setFullArticle({\n        title: data.title,\n        descr: data.descr,\n        id: data.id,\n        comments: data.comments,\n        author: data.author,\n        stage: data.stage,\n        review: data.review,\n        category: data.category\n    }))\n    dispatch(allActionCreators.setLoad(false))\n}\n\nexport const editStage = (id: number|string, stage:STAGEMAP):ArticlesThunk => async dispatch => {\n    await articlesAPI.editStage(stage, id)\n    dispatch(allActionCreators.setStage(stage))\n}\n\nexport const getReview = (id: string):ArticlesThunk => async dispatch => {\n    const data = await articlesAPI.getReview(id)\n    dispatch(allActionCreators.setNewReview(data))\n}\n\nexport const newReview = (articleId:string, userId:string, review:string):ArticlesThunk => async dispatch => {\n    await articlesAPI.postNewReview(articleId, userId, review)\n    dispatch(getArticles())\n}   \n\nexport const setEditReview = (id:string, text:string):ArticlesThunk => async dispatch => {\n    await articlesAPI.editReview(id, text)\n    dispatch(getArticles())\n}\n\nexport const sendArticle = (idArticle:string, idReviewer:string):ArticlesThunk => async dispatch => {\n    await articlesAPI.sendArticle(idArticle, idReviewer)\n}\n\ntype ArticlesAction = ReturnType<AllActions<typeof allActionCreators>>\ntype StateArticles = typeof initialState\ntype ArticlesThunk = ActionThunkType<ArticlesAction>","import { FormAction, stopSubmit } from \"redux-form\";\nimport { getUserAuth } from \"../../api/serviceApi\";\nimport { Auth } from \"../../types/Auth\";\nimport { ActionThunkType, AllActions } from \"../reduxStore\";\nimport { setDarkMode } from \"./articlesReducer\";\n\nconst SETAUTH = 'SETAUTH'\nconst SETLOGOUT = 'SETLOGOUT'\nconst SETINIT = 'SETINIT'\n\nconst initialState = {\n    autor: null as string | null,\n    login: null as null | string,\n    password: null as null | string,\n    isInit: false,\n    isAuth: false,\n    role: '' ,\n    isAuthor: false,\n    isEditor: false,\n    isReviewer: false,\n    isAdmin: false,\n    isDark: false\n}\n\nexport const authReducer = (state=initialState, action:ActionsAuth):StateAuth => {\n    switch(action.type) {\n        case SETAUTH: {\n            return {\n                ...state,\n                ...action.payLoad,\n                autor: action.payLoad.autor,\n                isAuthor: action.payLoad.isAuthor,\n                isEditor: action.payLoad.isEditor,\n                isReviewer: action.payLoad.isReviewer,\n                isAdmin: action.payLoad.isAdmin\n            }\n        }\n        case SETINIT: {\n            return {\n                ...state,\n                isInit: true\n            }\n        }\n        case SETLOGOUT: {\n            return {\n                ...state,\n                login: null,\n                password: null,\n                isAuth:false,\n                role:'',\n                isAuthor: false,\n                isEditor: false,\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst allActionCreaters = {\n    setAuth:(payLoad:PayLoad) => ({type:'SETAUTH', payLoad} as const) ,\n    setLogOut:() => {\n        localStorage.removeItem('id')\n        return {type:'SETLOGOUT'} as const\n    },\n    setInit: () => ({type:SETINIT} as const)\n}\n\nexport const logOut = allActionCreaters.setLogOut;\n/////////\n//THUNK//\n/////////\n\nexport const initialization = ():AuthThunkType => async dispatch => {\n    let promise = dispatch(getInit())\n    promise.then(() => dispatch(allActionCreaters.setInit()))\n    if(localStorage.getItem('dark')) dispatch(setDarkMode(true))\n}\n\nexport const getAuth = (value: Auth):AuthThunkType => async (dispatch) => {\n    const data =  await getUserAuth.getAuth(value)\n    if(data.isAuth) {\n        localStorage.setItem('login', `${value.login}`);\n        localStorage.setItem('password', `${value.password}`);\n        let autor = data.id ? data.id : null\n        dispatch(allActionCreaters.setAuth({\n            isAuth: true,\n            login: value.login,\n            password:value.password,\n            role: data.role,\n            isAuthor: data.isAuthor,\n            isEditor: data.isEditor,\n            isReviewer: data.isReviewer,\n            isAdmin: data.isAdmin,\n            autor\n        }))\n    } else {\n        dispatch(stopSubmit('login', {_error:'Wrong login or Password'}))\n    }\n}\n\nexport const getInit = ():AuthThunkType => async dispatch => {\n    const login = localStorage.getItem('login')\n    const password = localStorage.getItem('password')\n    \n    if(password&&login) {\n        return dispatch(getAuth({login,password}))\n    }\n}\n\ntype ActionsAuth = ReturnType<AllActions<typeof allActionCreaters>>\ntype StateAuth = typeof initialState\ntype AuthThunkType = ActionThunkType<ActionsAuth|FormAction>\ntype PayLoad = {\n    login: string,\n    password: string\n    role:string\n    isAuth: boolean\n    isAuthor: boolean,\n    isEditor: boolean,\n    isReviewer: boolean,\n    isAdmin: boolean,\n    autor: string | null\n}","import React, { FC } from 'react';\nimport { Field, reduxForm, InjectedFormProps } from 'redux-form'\nimport { ValidatorInput } from '../VaidatorInfo/ValidatorInfo';\nimport {getAuth} from '../../redux/reducers/authReducer'\nimport c from './login.module.css';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/reduxStore';\nimport { Link, Redirect } from 'react-router-dom';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { Avatar, Button, Container, CssBaseline, Grid, makeStyles, Typography } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      minHeight:'100%'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    link: {\n        color: theme.palette.type==='dark'? '#fff': '#000',\n        textDecoration: 'none'\n    }\n  }));\n\nconst LoginReduxForm:FC<InjectedFormProps<ValueForm>> = (props) => {\n    const{handleSubmit, error} = props;\n    const classes = useStyles()\n    return (\n        <Container component=\"main\" maxWidth=\"xs\" style={{minHeight:'100vh', paddingTop:'30px'}}>\n            <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography> \n                <form className={classes.form} onSubmit={handleSubmit}>\n                    <Field \n                        name=\"login\" \n                        component={ValidatorInput} \n                        type=\"text\" \n                        placeholder=\"Login\"\n                        />\n                    <Field \n                        name=\"password\" \n                        component={ValidatorInput} \n                        type=\"password\" \n                        placeholder=\"Password\"\n                        />  \n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        type=\"submit\"\n                    >\n                        Sign In\n                    </Button>\n                    <Grid container>\n                        <Grid item>\n                            <Link to=\"/register\" className={classes.link}>\n                                \"Don't have an account? Sign Up\"\n                            </Link>\n                        </Grid>\n                    </Grid>\n                    <Grid container style={{marginTop:20}}>\n                        <Grid item>\n                            <Link to=\"/home\" className={classes.link}>\n                                Home page\n                            </Link>\n                        </Grid>\n                    </Grid>\n                    {error? <span className={c.commonError}>Wrong login or password</span>:null}\n                </form>\n            </div>\n        </Container>\n    )\n}\nconst LoginForm = reduxForm<ValueForm>({\n    form: 'login'\n})(LoginReduxForm)\n\nconst Login:FC<CommonProps> = (props) => {\n    const onSubmit = (value:ValueForm) => {\n        props.getAuth(value)\n    }\n    if(props.isAuth) return <Redirect to='/home'/>\n    return (\n        <LoginForm onSubmit={onSubmit}/>\n    )\n}   \nconst mapStateToProps = (state:RootState):MapState => {\n    return {\n        isAuth: state.auth.isAuth,\n        isDark: state.articles.isDark\n    }\n}\nexport default connect<MapState, MapDispatch,{},RootState>(mapStateToProps, {getAuth})(Login);\n\ntype ValueForm = {\n    login: string\n    password: string\n}\n\ntype MapDispatch = {\n    getAuth: (value:ValueForm) => void\n}\n\ntype MapState = {\n    isAuth: boolean\n    isDark: boolean\n}\n\ntype CommonProps = MapDispatch&MapState","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport { connect, useSelector } from 'react-redux';\nimport { RootState } from '../../redux/reduxStore';\nimport {logOut} from '../../redux/reducers/authReducer'\nimport { Link } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    login: {\n      fontSize: '20px'\n    },\n    nav: {\n      display:'flex',\n      justifyContent:'space-between'\n    },\n    link: {\n      color:'#fff',\n      textDecoration:\"none\"\n    }\n  }),\n);\n\nconst Menu = ({setShowAll=() => {}, ...props}:CommonProps) => {\n  const classes = useStyles();\n  const isEditor = useSelector((state:RootState) => state.auth.isEditor)\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Toolbar className={classes.nav}>\n          <div className={classes.login}>\n            {props.login}\n          </div>\n          <div>\n            {\n              isEditor && <Button onClick={() => setShowAll(true)} color=\"inherit\">Show all articles</Button>\n            }\n            <Link to=\"/home\" className={classes.link}>\n              <Button color=\"inherit\">Back to home page</Button>\n            </Link>\n          </div>\n        </Toolbar>\n      </AppBar>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state:RootState):mapState => {\n  return {\n    isDark: state.articles.isDark\n  }\n}\n\nexport default connect<mapState, mapDispath, ownProps, RootState>(mapStateToProps,{logOut})(Menu)\n\ntype mapDispath = {\n  logOut: () => void\n}\ntype mapState = {\n  isDark: boolean\n}\ntype ownProps = {\n  login: string | null\n  setShowAll?: (prop:boolean) => void\n  role: string| null\n}\n\ntype CommonProps = mapDispath&ownProps","import { usersAPI } from \"../../api/serviceApi\";\nimport { Register } from \"../../types/Auth\";\nimport { ActionThunkType, AllActions } from \"../reduxStore\";\n\nconst SETUSERS = 'SETUSERS'\n\nconst initialState = {\n    users: [] as any\n}\n\nexport const userReducer = (state=initialState, action:ActionsAuth):StateAuth => {\n    switch(action.type) {\n        case SETUSERS: {\n            return {\n                ...state,\n                users: action.payload\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n\nconst allActionCreaters = {\n    setUsers: (payload:any) => ({type: SETUSERS, payload} as const),\n}\n\n/////////\n//THUNK//\n/////////\n\nexport const getUsers = ():UsersThunkType => async dispatch => {\n    const data = await usersAPI.getUsers()\n    dispatch(allActionCreaters.setUsers(data))\n}\n\nexport const deleteUser = (id:string):UsersThunkType => async dispatch => {\n    await usersAPI.deleteUser(id)\n    dispatch(getUsers())\n}\n\nexport const changeRole = (id:string, role:string):UsersThunkType => async dispatch => {\n    await usersAPI.changeRole(id, role)\n    dispatch(getUsers())\n}\n\nexport const newUser = (payload:Register):UsersThunkType => async dispatch => {\n    await usersAPI.getRegister(payload)\n    dispatch(getUsers())\n}\ntype ActionsAuth = ReturnType<AllActions<typeof allActionCreaters>>\ntype StateAuth = typeof initialState\ntype UsersThunkType = ActionThunkType<ActionsAuth>\n","import React, { FC, useEffect, useReducer, useState } from 'react';\nimport { makeStyles, createStyles, Theme, useTheme } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport img from '../../assets/img.jpg';\nimport { Link } from 'react-router-dom';\nimport { Autor } from '../../types/Autor';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EditIcon from '@material-ui/icons/Edit';\nimport {editStage, sendArticle, setEditReview, setLoad} from '../../redux/reducers/articlesReducer'\nimport {RootState} from '../../redux/reduxStore'\nimport { Button, TextField } from '@material-ui/core';\nimport { STAGEMAP } from '../../Helps/StageMap';\nimport LinkToDoc from '@material-ui/core/Link';\nimport { getUsers } from '../../redux/reducers/usersReducer';\n\nconst useStyles = makeStyles((theme:Theme) => createStyles({\n  root: {\n    width: '60%',\n    marginTop:'30px',\n    display:'flex',\n    flexDirection:'column',\n    justifyContent: 'space-between',\n    paddingBottom:'10px'\n  },\n  media: {\n    height: 140,\n  },\n  icons: {\n    display:'flex',\n    justifyContent: 'space-between',\n    marginLeft:'10px',\n    padding: 0,\n    paddingTop:'10px'\n  },\n  descr: {\n    overflow:'hidden',\n    height:'120px',\n  },\n  link: {\n    textDecoration: 'none',\n    color: theme.palette.primary.light\n  },\n  author: {\n    color:'grey',\n    display: 'block',\n    fontSize:'16px',\n    marginBottom:'20px'\n  },\n  reviewBlock: {\n    width: '100%',\n    padding: 15\n  },\n  reviewText: {\n    marginTop: 10\n  }\n}));\n\nexport default function MediaCard(props:CommonProps) {\n  const classes = useStyles();\n  const theme = useTheme()\n\n  const { review } = props\n\n  const [waitMode, setWait] = useState<STAGEMAP>(props.stage)\n  const [textReview, setTextReview] = useState('')\n  const [editMode, setEdit] = useState(false)\n  const [isSend, setSend] = useState(false)\n\n  const dispatch = useDispatch()\n  const isAuthor = useSelector((state:RootState) => state.auth.isAuthor)\n  const isReviewer = useSelector((state:RootState) => state.auth.isReviewer)\n  const isEditor = useSelector((state:RootState) => state.auth.isEditor)\n  const selectUsers = useSelector((state:RootState) => state.users.users)\n\n  const allReviewers = selectUsers.filter((user:any) => user.role==='reviewer')\n\n  useEffect(() => {\n    dispatch(getUsers())\n  },[dispatch])\n\n\n  const onSend = (stage:STAGEMAP) => {\n    dispatch(editStage(props.id, stage))\n    setWait(stage)\n  }\n\n  const onNewReview = () => {\n    dispatch(props.newReview(`${props.id}`, `${review[0].reviewer.id}`, textReview))\n  }\n\n  const onEditReview = () => {\n    dispatch(setEditReview(`${review[0].id}`, textReview))\n    setEdit(false)\n  }\n\n  const onReviewSendHandler = (idArticle:string, idReviewer:string) => {\n    dispatch(sendArticle(idArticle, idReviewer))\n    onSend(STAGEMAP['waiting reviewer'])\n    setSend(true)\n  }\n\n  const isReviewText = review ? review[0].review : null\n\n  return (\n    <Card className={classes.root}>\n        <Link to={`/article/${props.id}`} className={classes.link} onClick={() => dispatch(setLoad(true))}>\n            <CardActionArea>\n                <CardMedia\n                    className={classes.media}\n                    image={img}\n                />\n                <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                        {props.name}\n                    </Typography>\n                    <span className={classes.author}>\n                        Author: {props.author?.login}\n                    </span>\n                    <span className={classes.author}>\n                        Category: {props.category}\n                    </span>\n                    {isEditor && <StatusComponent waitMode={waitMode}/>}\n                    <Typography className={classes.descr} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                        {props.descr}\n                    </Typography>\n                    {isReviewText &&\n                        <div className={classes.reviewText}>\n                          <h3>Review: </h3>\n                          <Typography>\n                            {isReviewText}\n                          </Typography>\n                        </div>}\n                </CardContent>\n            </CardActionArea>\n        </Link>\n        {\n          isEditor && waitMode!==STAGEMAP['approved']&&\n          allReviewers.map((user:any) => {\n            return (\n              <React.Fragment key={user.id}>\n                <Typography align=\"center\">Login of reviewer: <b>{user.login}</b></Typography>\n                <Button disabled={isSend} variant=\"contained\" color=\"primary\" onClick={() => onReviewSendHandler(`${props.id}`, user.id)}> Send to {user.login} </Button><br/>\n              </React.Fragment>\n            )\n          })\n\n        }\n        {isReviewer && !isReviewText &&\n          <div className={classes.reviewBlock}>\n            <TextField \n              label=\"Write a review\" \n              fullWidth\n              rows={10} \n              multiline\n              value={textReview}\n              onChange={(e) => setTextReview(e.target.value)}\n            />\n            <Button disabled={!textReview} onClick={onNewReview}>\n              Leave review\n            </Button>\n\n          </div>\n        }\n        {isReviewer &&  waitMode !== STAGEMAP.approved &&\n          <>\n            <EditIcon onClick={ () => setEdit(!editMode) }  color=\"primary\"/>\n          </>\n        }\n        {editMode &&\n          <div className={classes.reviewBlock}>\n            <TextField \n              label=\"Write a review\" \n              fullWidth\n              rows={10} \n              multiline\n              value={textReview}\n              onChange={(e) => setTextReview(e.target.value)}\n            />\n            <Button onClick={onEditReview}>\n              Change review\n            </Button>\n          </div>\n        }\n        {\n          isAuthor && (waitMode !== STAGEMAP['waiting reviewer'] && waitMode !== STAGEMAP['waiting editor']) \n            ? waitMode !== STAGEMAP['approved'] && <Button onClick={() => onSend(STAGEMAP['waiting editor'])} color=\"secondary\"> Send to editor </Button> \n            : isAuthor && waitMode !== STAGEMAP['approved'] && <div>waiting for editor</div>\n        }\n        {\n          isReviewer && waitMode !== STAGEMAP['waiting editor'] \n            ? waitMode !== STAGEMAP.approved && <Button onClick={() => onSend(STAGEMAP['waiting editor'])} color=\"secondary\"> Send to editor </Button> \n            : isReviewer && <div>waiting for editor</div>\n        }\n        {\n          isEditor && waitMode === STAGEMAP['waiting editor'] \n            ? <> \n                <LinkToDoc style={{textDecoration:'none', color:theme.palette.primary.light}} target=\"_blank\" href={`http://backend.doit.kamisuel.cyou/article/${props.id}/doc`}>\n                  Download a document\n                </LinkToDoc>\n                {isReviewText&&\n                  <>\n                    <Button onClick={() => onSend(STAGEMAP['approved'])} color=\"primary\"> Aprove </Button> \n                    <Button onClick={() => onSend(STAGEMAP['waiting reviewer'])} color=\"secondary\"> Denied </Button>\n                  </>\n                }\n              </> \n            : null\n        }\n    </Card>\n  )\n}\n\nconst StatusComponent = (props:any) => {\n  const keys = {\n    \"0\":'created',\n    \"1\":'waiting reviewer',\n    \"2\":'reviewer',\n    \"3\":'waiting editor', \n    \"4\":'editor',\n    \"6\":'approved',\n  } as any\n  return (\n    <span>\n      Status: \n      {keys[props.waitMode]}\n    </span>\n  )\n}\n\ntype CommonProps = {\n  name: string\n  descr: string\n  id: string | number\n  author: Autor\n  login: string | null\n  stage: STAGEMAP,\n  review: any,\n  category:string,\n  newReview: (articleId:string, userId:string, review:string) => void\n}","import React, { ChangeEvent, FC, useState } from 'react'\nimport Modal from '@material-ui/core/Modal';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport { SaveNewArticle } from '../../types/Articles';\nimport { useTheme } from '@material-ui/core/styles';\nimport { Container, FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport {TOPICS} from '../../Helps/StageMap'\n\nconst useStyles = makeStyles((theme:Theme)=>({\n    paper: {\n        width:'50%',\n        [theme.breakpoints.down('xs')]: {\n            width: '100%'\n        },\n        position: 'absolute',\n        backgroundColor: theme.palette.background.paper,\n        border: 'none',\n        left:'50%',\n        top:'50%',\n        transform:'translate(-50%, -50%)',\n        padding: '20px',\n        display:'flex',\n        flexDirection: 'column',\n        justifyContent:'center'\n    },\n    modalTitle: {\n        marginBottom:'20px'\n    },\n    readerInput: {\n        display:'none',\n    },\n    btns: {\n        width: '100%',\n        display:'flex',\n        justifyContent:'space-between',\n        marginTop: 20\n    },\n    fileName: {\n        display:'block',\n        marginBottom:'20px'\n    },\n    title: {\n        marginBottom: 20\n    },\n    uploadButton: {\n        marginTop: 10,\n        marginLeft: -1,\n        padding: 5,\n        width: 350,\n        backgroundColor: theme.palette.primary.main\n    },\n    formControl: {\n        minWidth: 120,\n    }\n}))\n\nexport const ModalWindow:FC<OwnProps> = (props) => {\n    const classes = useStyles()\n    const theme = useTheme()\n    const [title, setTitle] = useState('')\n    const [descr, setDescr] = useState('')\n    const [document, setFile] = useState<File>()\n    const [category, setCategory] = useState('')\n\n   const onFileSave = (e:ChangeEvent<HTMLInputElement>) => {\n    if(e.target.files && e.target.files.length) {\n        setFile(e.target.files[0])\n    }\n   }\n\n    return (\n        <Modal\n            open={props.open}\n            onClose={props.handleModal}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <Container component=\"main\" maxWidth=\"sm\">\n                <form className={`${classes.paper}`}>\n                    <h2 style={{color:theme.palette.primary.light}} className={classes.modalTitle}>New article</h2>\n                    <TextField \n                        label=\"Title\" \n                        className={classes.title} \n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                    />\n                    <TextField\n                        id=\"outlined-multiline-flexible\"\n                        label=\"Description\"\n                        multiline\n                        rows={15}\n                        variant=\"outlined\"\n                        value={descr}\n                        onChange={(e) => setDescr(e.target.value)}\n                    />\n                    <SelectCategory setRole={setCategory} role={category}/>\n                    <FormControlLabel\n                        label=\"Upload file\"\n                        className={classes.uploadButton}\n                        control={<input type=\"file\" onChange={(e) => onFileSave(e)}/>}\n                    />\n                    <div className={classes.btns}>\n                        <Button variant=\"contained\" color=\"primary\" disabled={title&&descr&&category?false:true} onClick={() => props.onSave({title, descr, document,category})}>Save</Button>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={props.handleModal}>Cancel</Button>\n                    </div>\n                </form>\n            </Container>\n        </Modal>\n    )\n}\n\ntype OwnProps = {\n    open: boolean\n    handleModal: () => void\n    onSave: (value:SaveNewArticle) => void\n}\n\n\nconst SelectCategory = (props:any) => {\n    const classes = useStyles()\n    \n    return (\n        <FormControl className={classes.formControl}>\n            <InputLabel id=\"demo-simple-select-label\">Topic</InputLabel>\n            <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                onChange={(event) => props.setRole(event.target.value)}\n                value={props.role}\n            >\n            <MenuItem value={TOPICS.MEDICINE}>{TOPICS.MEDICINE}</MenuItem>\n            <MenuItem value={TOPICS.NAVALNY}>{TOPICS.NAVALNY}</MenuItem>\n            <MenuItem value={TOPICS.PROGRAMMING}>{TOPICS.PROGRAMMING}</MenuItem>\n            <MenuItem value={TOPICS.SCIENCE}>{TOPICS.SCIENCE}</MenuItem>\n            </Select>\n        </FormControl>\n    )\n}","import { Button, Container, Fab, FormControl, InputLabel, makeStyles, MenuItem, Paper, Select, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, TextField, Theme, Tooltip, useTheme } from '@material-ui/core'\nimport React, {useEffect, useState} from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { changeRole, deleteUser, getUsers, newUser } from '../../redux/reducers/usersReducer'\nimport AddIcon from '@material-ui/icons/Add';\nimport Modal from '@material-ui/core/Modal';\n\n\nconst useStyles = makeStyles((theme:Theme) => ({\n    table: {\n      minWidth: 650,\n    },\n    formControl: {\n        minWidth: 120,\n    },\n    selectEmpty: {\n        marginTop: theme.spacing(2),\n    },\n    paper: {\n        width:'50%',\n        [theme.breakpoints.down('xs')]: {\n            width: '100%'\n        },\n        position: 'absolute',\n        backgroundColor: theme.palette.background.paper,\n        border: 'none',\n        left:'50%',\n        top:'50%',\n        transform:'translate(-50%, -50%)',\n        padding: '20px',\n        display:'flex',\n        flexDirection: 'column',\n        justifyContent:'center'\n    },\n    modalTitle: {\n        marginBottom:'20px'\n    },\n    readerInput: {\n        display:'none',\n    },\n    btns: {\n        width: '100%',\n        display:'flex',\n        justifyContent:'space-between',\n        marginTop: 20\n    },\n    fileName: {\n        display:'block',\n        marginBottom:'20px'\n    },\n    title: {\n        marginBottom: 20\n    }\n}));\n\nexport const AdminPanel = () => {\n    const classes = useStyles()\n\n    const [editMode, setEditMode] = useState(false)\n    const [modal, setModal] = useState(false)\n    const dispatch = useDispatch()\n    const selectUsers = useSelector((state:any) => state.users.users)\n\n    useEffect(() => {\n        dispatch(getUsers())\n    }, [])\n\n    const onDeleteHandle = (id: string) => {\n        dispatch(deleteUser(id))\n    }\n\n    return (\n        <div>\n            <TableContainer component={Paper}>\n                <Table className={classes.table} aria-label=\"simple table\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell>Login</TableCell>\n                            <TableCell align=\"right\">Role</TableCell>\n                            <TableCell align=\"right\">Name</TableCell>\n                            <TableCell align=\"right\">Last name</TableCell>\n                            <TableCell align=\"right\">Actions</TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <Users \n                            selectUsers={selectUsers} \n                            setEditMode={setEditMode}\n                            onDeleteHandle={onDeleteHandle}\n                            editMode={editMode}\n                        />\n                    </TableBody>\n                </Table>\n            </TableContainer>\n            <Tooltip title=\"Add\" aria-label=\"add\">\n                <Fab color=\"primary\" onClick={() => setModal(true)} >\n                    <AddIcon />\n                </Fab>\n            </Tooltip>\n            {\n                modal && <ModalNewUser setModal={setModal} open={modal}/>\n            }\n        </div>\n    )\n}\n\n\n\nconst EditForm = (props:any) => {\n    const classes = useStyles()\n    const {setEditMode, id} = props\n\n    const dispatch = useDispatch()\n\n    const onRoleHandler = (target:any) => {\n        dispatch(changeRole(`${id}`, target))\n        setEditMode(false)\n    }\n\n    return (\n        <FormControl className={classes.formControl}>\n            <InputLabel id=\"demo-simple-select-label\">Role</InputLabel>\n            <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                onChange={(event) => onRoleHandler(event.target.value)}\n            >\n            <MenuItem value={'editor'}>Editor</MenuItem>\n            <MenuItem value={'author'}>Author</MenuItem>\n            <MenuItem value={'reviewer'}>Reviewer</MenuItem>\n            <MenuItem value={'admin'}>Admin</MenuItem>\n            </Select>\n        </FormControl>\n    )\n}\n \nconst Users = (props:any) => {\n    return (\n        <>\n            {props.selectUsers.map((user:any) => {\n                return <TableRow key={user.id}>\n                        <TableCell component=\"th\" scope=\"row\">\n                            {user.login}\n                        </TableCell>\n                        <TableCell align=\"right\">{user.role}</TableCell>\n                        <TableCell align=\"right\">{user.name}</TableCell>\n                        <TableCell align=\"right\">{user.lastname}</TableCell>\n                        <TableCell align=\"right\">\n                            {\n                                props.editMode \n                                ? <> \n                                    <EditForm setEditMode={props.setEditMode} id={user.id}/>\n                                    <Button color=\"secondary\" onClick={() => props.setEditMode(false)}> Cancel </Button>\n                                </>\n                                : <> \n                                    <Button color=\"secondary\" onClick={() => props.onDeleteHandle(`${user.id}`)}> Delete </Button>\n                                    <Button color=\"primary\" onClick={() => props.setEditMode(true)}> Edit </Button>\n                                </>\n                            }\n                        </TableCell>\n                    </TableRow>\n            })}\n        </>\n    )\n}\n\nconst ModalNewUser = (props:any) => {\n    const classes = useStyles()\n    const theme = useTheme()\n    const dispatch = useDispatch()\n    const [login, setLogin] = useState('')\n    const [password, setPassword] = useState('')\n    const [role, setRole] = useState('')\n    const [name, setName] = useState('')\n    const [lastName, setLastName] = useState('')\n\n    const onHandleSave = () => {\n        const payload = {\n            login,\n            password,\n            role,\n            name,\n            lastname: lastName\n        }\n        dispatch(newUser(payload))\n        props.setModal(false)\n    }\n\n    return (\n        <Modal\n            open={props.open}\n            onClose={() => props.setModal(false)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <Container component=\"main\" maxWidth=\"sm\">\n                <form className={`${classes.paper}`}>\n                    <h2 style={{color:theme.palette.primary.light}} className={classes.modalTitle}>New user</h2>\n                    <TextField \n                        label=\"Login\" \n                        className={classes.title} \n                        value={login}\n                        onChange={(e) => setLogin(e.target.value)}\n                    />\n                    <TextField \n                        label=\"Password\" \n                        className={classes.title} \n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                    <NewSelectUser setRole={setRole} role={role}/>\n                    <TextField \n                        label=\"Name\" \n                        className={classes.title} \n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                    />\n                    <TextField \n                        label=\"Last name\" \n                        className={classes.title} \n                        value={lastName}\n                        onChange={(e) => setLastName(e.target.value)}\n                    />\n                    <div className={classes.btns}>\n                        <Button variant=\"contained\" color=\"primary\" disabled={login&&role&&password?false:true} onClick={onHandleSave}>Save</Button>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={() => props.setModal(false)}>Cancel</Button>\n                    </div>\n                </form>\n            </Container>\n        </Modal>\n    )\n}\n\nconst NewSelectUser = (props:any) => {\n    const classes = useStyles()\n\n    return (\n        <FormControl className={classes.formControl}>\n            <InputLabel id=\"demo-simple-select-label\">Role</InputLabel>\n            <Select\n                labelId=\"demo-simple-select-label\"\n                id=\"demo-simple-select\"\n                onChange={(event) => props.setRole(event.target.value)}\n                value={props.role}\n            >\n            <MenuItem value={'editor'}>Editor</MenuItem>\n            <MenuItem value={'author'}>Author</MenuItem>\n            <MenuItem value={'reviewer'}>Reviewer</MenuItem>\n            <MenuItem value={'admin'}>Admin</MenuItem>\n            </Select>\n        </FormControl>\n    )\n}","import React, { useState } from 'react';\nimport Menu from '../Menu/Menu'\nimport Cards from '../Cards/Cards'\nimport { Articles, SaveNewArticle } from '../../types/Articles';\nimport AddIcon from '@material-ui/icons/Add';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { CssBaseline, Fab, Tooltip } from '@material-ui/core';\nimport { ModalWindow } from '../Modal/Modal';\nimport { STAGEMAP } from '../../Helps/StageMap';\nimport { AdminPanel } from './AdminPanel';\n\n\nconst useStyles = makeStyles({\n  btn: {\n    position: 'fixed',\n    bottom: '20px',\n    right: '30px',\n  },\n})\n\nconst Reader = ({login, role, articles, isAuthor, autor, postArticle, newReview, isReviewer, isEditor, isAdmin, review }:ownProps) => {  \n  const classes = useStyles()\n\n  const [open, setOpen] = useState(false);\n  const [showAll, setShowAll] = useState(false)\n\n  const handleModal = () => {\n    setOpen(!open)\n  }\n\n  const onSave = ({title, descr, document,category}:SaveNewArticle) => {\n    postArticle({title, descr, autor, document,category})\n    setOpen(false)\n  }\n\n  const authorCards = articles.filter(el => el.author?.login === login)\n  const reviewerCards = articles.filter(el => el.stage === (STAGEMAP['waiting reviewer'] || el.stage === STAGEMAP['waiting editor']) && (el.review?el.review[0].reviewer.login===login:null)||el.review?login===el.review[0].reviewer.login:null)\n  const editorCards = articles.filter(el => el.stage === STAGEMAP['waiting editor'] )\n  \n  return (\n    <div>\n      <CssBaseline />\n      <Menu setShowAll={setShowAll} login={login} role={role}/>\n      <div>\n        {\n          isAuthor &&  <HelpComponent item={authorCards} login={login} newReview={newReview}/>\n        }\n        {\n          isReviewer &&  <HelpComponent item={reviewerCards} login={login} newReview={newReview}/>\n        }\n        {\n          isEditor && <HelpComponent item={editorCards} login={login} newReview={newReview}/>\n        }\n        {\n          isAdmin && <AdminPanel/>\n        }\n        {\n          showAll && <HelpComponent item={articles} login={login} newReview={newReview}/>\n        }\n      </div>\n      {isAuthor &&\n        <Tooltip onClick={handleModal} title=\"Add\" aria-label=\"add\" className={classes.btn}>\n          <Fab color=\"primary\" >\n            <AddIcon />\n          </Fab>\n        </Tooltip>\n      }\n      {open &&\n        <ModalWindow \n          handleModal={handleModal}\n          open={open}\n          onSave={onSave}\n        />\n      }\n    </div>\n  );\n}\n\nconst HelpComponent = (props:any) => {\n  const {item, login, newReview} = props\n  return (\n    <>\n    {\n      item.map((mag:any) => {\n        return <div className='container' key={mag.id}>\n          <Cards\n            descr={mag.descr}\n            name={mag.title}\n            id={mag.id}\n            author={mag.author}\n            login={login}\n            stage={mag.stage}\n            review={mag.review}\n            newReview={newReview}\n            category={mag.category}\n          />\n        </div>\n      })\n    }\n    </>\n  )\n}\nexport default Reader\n\ntype ownProps = {\n  login: string | null\n  role: string| null\n  articles: Array<Articles>\n  isAuthor: boolean,\n  isEditor: boolean,\n  isReviewer: boolean,\n  isAdmin: boolean,\n  autor: string | null,\n  review: any,\n  postArticle: (value:SaveNewArticle) => void\n  newReview: (articleId:string, userId:string, review:string) => void\n}","import React, { FC, useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport { RootState } from '../../redux/reduxStore'\nimport { Articles, SaveNewArticle } from '../../types/Articles'\nimport Main from './Main'\nimport { getArticles, postArticle, newReview } from '../../redux/reducers/articlesReducer'\nimport { Redirect } from 'react-router-dom'\n\nconst ReaderContainer:FC<commonProps> = ({isAuth, role, login, articles, isAuthor, getArticles, postArticle, autor, review, isEditor, isReviewer, isAdmin }) => {\n\n    useEffect(() => {\n        getArticles()\n    }, [])\n\n    if(!isAuth) return <Redirect to='/login'/>\n\n    return (    \n        <div>\n            <Main \n                articles = {articles} \n                role={role} \n                login={login}\n                isAuthor={isAuthor}\n                autor={autor}\n                postArticle={postArticle}\n                review={review}\n                newReview={newReview}\n                isEditor={isEditor}\n                isReviewer={isReviewer}\n                isAdmin ={isAdmin}\n            />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state:RootState):mapState => {\n    return {\n        role: state.auth.role,\n        login: state.auth.login,\n        articles: state.articles.articles,\n        isAuthor: state.auth.isAuthor,\n        isEditor: state.auth.isEditor,\n        isReviewer: state.auth.isReviewer,\n        autor: state.auth.autor,\n        isAuth: state.auth.isAuth,\n        isAdmin: state.auth.isAdmin,\n        review: state.articles.review\n    }\n}\n\nexport default connect<mapState, mapDispath, {}, RootState>(mapStateToProps, {getArticles,postArticle,newReview, })(ReaderContainer)\n\ntype mapState = {\n    role: string\n    login: string|null\n    articles: Array<Articles>\n    isAuthor: boolean,\n    autor: string | null\n    isAuth: boolean,\n    isEditor: boolean,\n    isAdmin: boolean,\n    isReviewer: boolean,\n    review: any\n}\ntype mapDispath = {\n    getArticles: () => void\n    postArticle: (value:SaveNewArticle) => void\n    newReview: (articleId:string, userId:string, review:string) => void\n}\n\ntype commonProps = mapState&mapDispath","import { getUserAuth } from \"../../api/serviceApi\";\nimport { Register } from \"../../types/Auth\";\nimport { ActionThunkType, AllActions } from \"../reduxStore\";\n\nconst SETREGISTER = 'SETREGISTER';\nconst SETERROR = 'SETERROR';\n\n\nconst initialState = {\n    isOk: false,\n    error: false\n}\n\nexport const registerReducer = (state = initialState, action:RegisterAction):StateRegister => {\n    switch(action.type) {\n        case SETREGISTER: {\n            return {\n                ...state,\n                isOk: true,\n                error: false\n            }\n        }\n        case SETERROR: {\n            return {\n                ...state,\n                error:true\n            }\n        }\n        default: \n            return state\n    }\n\n}\n\nconst allActionCreators = {\n    setRegister:() => ({type:SETREGISTER}),\n    setError: () => ({type:SETERROR})\n}\n\n/////////\n//THUNK//\n/////////\n\nexport const toRegister = (dataRegister: Register):RegisterThunk => async (dispatch) => {\n    const data = await getUserAuth.getRegister(dataRegister)\n    if(data.isSave) {\n        dispatch(allActionCreators.setRegister())\n    }\n    else {\n        dispatch(allActionCreators.setError())\n    }\n}\n\ntype RegisterAction = ReturnType<AllActions<typeof allActionCreators>>\ntype StateRegister = typeof initialState\ntype RegisterThunk = ActionThunkType<RegisterAction>\n","import React, { FC } from 'react';\nimport { Field, reduxForm, InjectedFormProps, formValueSelector } from 'redux-form'\nimport { ValidatorInput } from '../VaidatorInfo/ValidatorInfo';\nimport { connect } from 'react-redux';\nimport { RootState } from '../../redux/reduxStore';\nimport {toRegister} from '../../redux/reducers/registerReducer'\nimport { Link } from 'react-router-dom';\nimport { makeStyles, Theme } from '@material-ui/core/styles';\nimport {Register} from '../../types/Auth'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport { Avatar, Button, Container, CssBaseline, Grid, Typography } from '@material-ui/core';\nimport FormHelperText from '@material-ui/core/FormHelperText';\n\n\nconst useStyles = makeStyles((theme: Theme) => ({ \n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        minHeight:'100%'\n      },\n      avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n      },\n      form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n      },\n      submit: {\n        margin: theme.spacing(3, 0, 2),\n      },\n      link: {\n        color: theme.palette.type==='dark'? '#fff': '#000',\n        textDecoration: 'none'\n      },\n      formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n      }\n}))\n\nconst LoginReduxForm:FC<InjectedFormProps<ValueForm>> = (props) => {\n    const { handleSubmit } = props;\n    const classes = useStyles()\n    return (\n        <form className={classes.form} onSubmit={handleSubmit}>\n            <Field \n                name=\"login\" \n                component={ValidatorInput} \n                type=\"text\" \n                placeholder=\"Login\"\n                />\n            <Field \n                name=\"password\" \n                component={ValidatorInput} \n                type=\"password\" \n                placeholder=\"Password\"\n                />  \n            <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                type=\"submit\"\n            >\n                Sign Up\n            </Button>\n        </form> \n    )\n}\n\n\nconst LoginForm = reduxForm<ValueForm>({\n    form: 'register'\n})(LoginReduxForm)\n\nconst Login:FC<CommonProps> = (props) => {\n    const { login, password, role, isOk, error } = props\n    const classes = useStyles()\n    const onSubmit = () => {\n        props.toRegister({login, password, role})\n    }\n    \n    return (\n        <Container component=\"main\" maxWidth=\"xs\" style={{minHeight:'100vh', paddingTop:'30px'}}>\n        <CssBaseline />\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign up\n                </Typography> \n                <LoginForm onSubmit={onSubmit}/>\n                <Grid container>\n                    <Grid item>\n                        <Link to=\"/login\" className={classes.link}>\n                            Back to login\n                        </Link>\n                    </Grid>\n                </Grid>\n                {isOk && <div style={{marginTop:'20px'}}> YOU WERE REGISTERED </div>}\n                {error && <FormHelperText error>The user is already exists</FormHelperText>}\n            </div>\n        </Container>\n    )\n}  \n\nconst selector = formValueSelector('register') \n\nconst mapStateToProps = (state:RootState):MapState => {\n    const login = selector(state, 'login')\n    const password = selector(state, 'password')\n    const role = selector(state, 'role')\n\n    return {\n        isOk: state.register.isOk,\n        error: state.register.error,\n        login,\n        password,\n        role\n    }\n}\nexport default connect<MapState, MapDispatch,{},RootState>(mapStateToProps, {toRegister})(Login);\n\ntype ValueForm = {\n    login: string\n    password: string\n    role: string\n}\n\ntype MapDispatch = {\n    toRegister: (value:Register) => void\n}\n\ntype MapState = {\n    isOk: boolean\n    login: string\n    password: string\n    role: string\n    error: boolean\n}\n\ntype CommonProps = MapDispatch&MapState","import React, { FC, useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { TextField } from '@material-ui/core';\nimport SendIcon from '@material-ui/icons/Send';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postComments } from '../../redux/reducers/articlesReducer';\nimport { getComments } from '../../redux/reducers/articlesReducer';\nimport {RootState} from '../../redux/reduxStore'\n\nconst useStyles = makeStyles({\n    wrapper: {\n        padding: '10px'\n    },\n    comment: {\n        marginBottom:'10px',\n        borderBottom: '1px solid #e3e3e3',\n        padding:'5px'\n    },\n    comments: {\n        marginBottom:'10px',\n        fontWeight: 'bold'\n    },\n    inputBlock: {\n        position: 'relative',\n        width:'100%',\n        marginTop: '30px'\n    },\n    input: {\n        width:'90%'\n    },\n    icon: {\n        position: 'absolute',\n        right: '50px',\n        top: '50%',\n        transform:'translateY(-50%)'\n    },\n    author: {\n        display:'block',\n        color:'grey'\n    }\n})\n\nconst Comments:FC<CommonProps> = (props) => {\n\n    const classes = useStyles()\n    const [text, setText] = useState('')\n\n    const dispatch = useDispatch()\n    const comments = useSelector((state:RootState) => state.articles.comments)\n    \n    useEffect(() => {\n        dispatch(getComments(props.id))\n    },[])\n\n    const onComment = (id: string|number, autor:string|null, text:string) => {\n        setText('')\n        dispatch(postComments(id, autor, text))\n    }\n\n    const items = comments.map(comment => <div key={comment.id} className={classes.comment}> <span className={classes.author}>{comment.autor}</span> {comment.text}</div>)\n\n    return (\n        <div className={classes.wrapper}>\n            <div className={classes.comments}>Comments</div>\n            {items}\n            <div className={classes.inputBlock}>\n                <TextField \n                    id=\"standard-basic\" \n                    label=\"Comment\" \n                    onChange={(e: React.ChangeEvent<HTMLInputElement>) => setText(e.target.value)} \n                    className={classes.input} \n                    value={text}/>\n                <SendIcon className={classes.icon} onClick={() => onComment(props.id, props.login, text)}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Comments\n\ntype CommonProps = {\n    login: string | null\n    id: string|number\n}","import React, { FC, useEffect, useState } from 'react'\nimport { connect, useDispatch } from 'react-redux'\nimport { RootState } from '../../redux/reduxStore'\nimport Menu from '../Menu/Menu'\nimport { Button, CardContent, Paper, TextField, Typography } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link, Redirect, useParams } from 'react-router-dom'\nimport {getFullArticle,deleteArticle, editArticle} from '../../redux/reducers/articlesReducer'\nimport { Articles } from '../../types/Articles'\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Comments from '../Cards/Comments';\nimport SaveIcon from '@material-ui/icons/Save';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nconst useStyles = makeStyles({\n    paper: {\n        marginTop: '20px',\n        padding: 0,\n        paddingBottom:'10px',\n        display:'flex',\n        flexDirection: 'column'\n    },\n    media: {\n        height: 140,\n    },\n    icons: {\n        display:'flex',\n        justifyContent: 'space-between'\n    },\n    img: {\n        width: '1200px',\n        height: '200px',\n        backgroundImage:`url(https://source.unsplash.com/random)`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center'\n    },\n    btn: {\n        display:'block',\n        margin: '20px auto'\n    },\n    link: {\n        textDecoration: 'none',\n        color: '#fff'\n    },\n    author: {\n        color:'grey',\n        display: 'block',\n        fontSize:'16px',\n        marginBottom:'20px'\n    },\n    descr: {\n        // color:'#000'\n    },\n    helpIcon: {\n        display: 'flex',\n        width:'100%',\n        justifyContent:'flex-start',\n        paddingLeft: '10px'\n    },\n    deleteIcon: {\n        display: 'block',\n        marginRight: '10px'\n    },\n    comments: {\n        overflow:'scroll',\n        height:300\n    },\n    descrInput: {\n        width:'60%'\n    },\n    reviewText: {\n        marginTop: 20\n    }\n})\n  \n\nconst Article:FC<MapState&MapDispatch> = ({login, role, getFullArticle, article, deleteArticle, isLoad, isEditor, isDelete}) => {\n\n    const  { id }:id  = useParams()\n    const classes = useStyles()\n\n    const [edit, setEdit] = useState(false)\n    const [title, setTitle] = useState('')\n    const [descr, setDescr] = useState('')\n\n    const dispatch = useDispatch()\n    \n    useEffect(() => {\n        getFullArticle(id)\n        setTitle(article.title)\n        setDescr(article.descr)\n    },[article.title, article.descr])\n\n    if(isLoad) {\n        return (\n            <div style={{minHeight: '100vh'}}>\n                <CircularProgress/>\n            </div>\n        )\n    }\n\n    if(isDelete) {\n        return (\n            <Redirect to='/admin'/>      \n        )\n    }\n    \n    const onSave = () => {\n        setEdit(false)\n        dispatch(editArticle({id, title, descr}))\n    }\n    \n    const onDelete = () => {\n        deleteArticle(id)\n    }\n\n    const currentAuthor = login === article.author?.login\n\n    const isReviewText = article.review ? article.review[0].review : null\n\n    return (\n        <div style={{paddingBottom: 10, minHeight: '100vh'}}>\n            <Menu login={login} role={role}/>\n\n            <Paper elevation={3} className={`container ${classes.paper}`}>\n                <div className={classes.img}></div>\n                <div style={{marginBottom:40}}>\n                    <CardContent>\n                        {\n                            !edit ?\n                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                                {title}\n                            </Typography>\n                            :\n                            <TextField \n                                label=\"title\" \n                                value={title}\n                                onChange={(e) => setTitle(e.target.value)}\n                            />\n                        }\n                        <span className={classes.author}>\n                            Author: {article.author?.login}\n                        </span>\n                        <span className={classes.author}>\n                            Author: {article.category}\n                        </span>\n                        {\n                            !edit ? \n                            <Typography className={classes.descr} variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                                {descr}\n                            </Typography>\n                            :\n                            <TextField\n                                id=\"outlined-multiline-flexible\"\n                                label=\"Description\"\n                                multiline\n                                rows={15}\n                                variant=\"outlined\"\n                                value={descr}\n                                onChange={(e) => setDescr(e.target.value)}\n                                className={classes.descrInput}\n                            />\n                        }\n                        {isReviewText &&\n                            <div className={classes.reviewText}>\n                                <h3>Review: </h3>\n                                <Typography>\n                                    {isReviewText}\n                                </Typography>\n                            </div>}\n                    </CardContent>\n                    {\n                        (currentAuthor||isEditor)&&\n                        <div className={classes.helpIcon}>\n                            {edit \n                                ?   \n                                    <>\n                                        <SaveIcon style={{marginRight: '20px', cursor:'pointer'}} onClick={ onSave }/>\n                                        <CancelIcon style={{cursor:'pointer'}} onClick={() => setEdit(false)}/>\n                                    </>\n                                : \n                                    <>\n                                        <DeleteIcon onClick={onDelete} className={classes.deleteIcon} color=\"secondary\" style={{cursor:'pointer'}}/>\n                                        <EditIcon onClick={ () => setEdit(true) }  color=\"primary\" style={{cursor:'pointer', marginRight:'10px'}}/>\n                                    </>\n                            }\n                        </div>\n                    }\n                </div>\n                <div className={classes.comments}>\n                    <Comments id={id} login={login}/>\n                </div>\n            </Paper>\n            <Link className={classes.link} to='/home'>\n                <Button variant=\"contained\" color=\"primary\" className={classes.btn}>\n                    Back\n                </Button>\n            </Link>\n        </div>\n    )\n}\n\nconst mapState = (state:RootState):MapState => {\n    return {\n        role: state.auth.role,\n        login: state.auth.login,\n        article: state.articles.fullArticle,\n        isLoad: state.articles.isLoad,\n        isEditor: state.auth.isEditor,\n        isDelete: state.articles.isDelete\n    }\n}\n\n\n\nexport default connect<MapState, MapDispatch, {}, RootState>(mapState,{getFullArticle, deleteArticle})(Article)\n\ntype MapState = {\n    login: string | null\n    role: string| null\n    article: Articles\n    isLoad: boolean\n    isEditor: boolean\n    isDelete: boolean\n}\n\ntype MapDispatch = {\n    getFullArticle: (id:string) => void\n    deleteArticle: (id:string) => void\n}\n\ntype id = {\n    id: string\n}","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {logOut} from '../../redux/reducers/authReducer';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\n\nconst useStyles = makeStyles((theme) => ({\n  toolbar: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n    display: 'flex',\n    justifyContent: 'space-between'\n  },\n  toolbarTitle: {\n    borderBottom: '3px solid red',\n    padding: 3\n  },\n  toolbarSecondary: {\n    justifyContent: 'flex-start',\n    overflowX: 'auto',\n  },\n  toolbarLink: {\n    padding: theme.spacing(1),\n    flexShrink: 0,\n    textDecoration:'none',\n    color: theme.palette.type === 'dark'?'#fff':\"#000\",\n    \n  },\n  logo: {\n    width: 200,\n    height: 200\n  }\n}));\n\nfunction Header({ title, login, logOut, isAbout, isAuthor, isEditor, isReviewer, isAdmin }) {\n  const classes = useStyles();\n  const permition = \n    isAuthor || \n    isEditor ||\n    isReviewer || \n    isAdmin\n    \n  const onExit = () => {\n    localStorage.removeItem('login')\n    localStorage.removeItem('password')\n    logOut()\n  }\n  return (\n    <React.Fragment>\n      <Toolbar className={classes.toolbar}>\n        <div > \n          <img className={classes.logo} src=\"https://www.vspj.cz/2017/images/vspj-logo.svg\" alt=\"logo\"/>\n        </div>\n        <Typography\n          component=\"h2\"\n          variant=\"h5\"\n          color=\"inherit\"\n          align=\"center\"\n          noWrap\n          className={classes.toolbarTitle}\n        >\n          {title}\n        </Typography>\n        {\n          !login?\n          <div>\n            <Link to='/login' style={{textDecoration:'none'}}>\n              <Button variant=\"outlined\" size=\"small\">\n                Sign in\n              </Button>\n            </Link>\n            <Link to='/register' style={{textDecoration:'none'}}>\n              <Button variant=\"outlined\" size=\"small\">\n                Sign up\n              </Button>\n            </Link>\n          </div>\n          :\n          <div style={{display: 'flex', alignItems:'center'}}>\n            <span style={{marginRight:'10px'}}>{login}</span>\n            <ExitToAppIcon style={{cursor:'pointer'}} onClick={onExit} color='secondary'/>\n          </div>\n        }\n      </Toolbar>\n      {isAbout\n        ?\n          <Toolbar component=\"nav\" variant=\"dense\" className={classes.toolbarSecondary}>\n            <CustomLink title='About us' path='/about' classes={classes}/>\n            {permition&&<CustomLink title='Admin panel' path='/admin' classes={classes}/>}\n          </Toolbar>\n        :\n          <Toolbar component=\"nav\" variant=\"dense\" style={{justifyContent:'flex-start'}}>\n            <CustomLink border path='/home' classes={classes}>\n              <ArrowBackIosIcon/>\n            </CustomLink>\n          </Toolbar>\n      }\n    </React.Fragment>\n  );\n}\n\nconst CustomLink = ({title='', path, classes, children, border}) => {\n  return (\n        <Link\n          color=\"inherit\"\n          variant=\"body2\"\n          to={path}\n          className={classes.toolbarLink}\n          style={{borderBottom: border? 'none': '1px solid red'}}\n        >\n          {title}\n          {children}\n        </Link>\n  )\n}\n\nconst mapState = (state) => {\n  return {\n    login: state.auth.login,\n    isAuthor: state.auth.isAuthor,\n    isEditor: state.auth.isEditor,\n    isReviewer: state.auth.isReviewer,\n    isAdmin: state.auth.isAdmin\n  }\n}\n\nexport default connect(mapState, {logOut})(Header)\n\nHeader.propTypes = {\n  sections: PropTypes.array,\n  title: PropTypes.string,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://github.com/Letmehear15/DOIT/\">\n        AlexLet\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6, 0),\n  },\n}));\n\nexport default function Footer(props) {\n  const classes = useStyles();\n  const { description, title } = props;\n\n  return (\n    <footer className={classes.footer}>\n      <Container maxWidth=\"lg\">\n        <Typography style={{borderBottom: '3px solid red', padding: 3}} variant=\"h6\" align=\"center\" gutterBottom>\n          {title}\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textSecondary\" component=\"p\">\n          {description}\n        </Typography>\n        <Copyright />\n      </Container>\n    </footer>\n  );\n}\n\nFooter.propTypes = {\n  description: PropTypes.string,\n  title: PropTypes.string,\n};\n","import React from 'react';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Header from './Header';\nimport { setDarkMode} from '../../redux/reducers/articlesReducer'\nimport Footer from './Footer';\nimport { connect } from 'react-redux';\nimport { FormControlLabel, Switch, Typography } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\nimport { TOPICS } from '../../Helps/StageMap';\n\nconst IOSSwitch = withStyles((theme) => ({\n  root: {\n    width: 42,\n    height: 26,\n    padding: 0,\n    margin: theme.spacing(1),\n  },\n  switchBase: {\n    padding: 1,\n    '&$checked': {\n      transform: 'translateX(16px)',\n      color: theme.palette.common.white,\n      '& + $track': {\n        backgroundColor: '#52d869',\n        opacity: 1,\n        border: 'none',\n      },\n    },\n    '&$focusVisible $thumb': {\n      color: '#52d869',\n      border: '6px solid #fff',\n    },\n  },\n  thumb: {\n    width: 24,\n    height: 24,\n  },\n  track: {\n    borderRadius: 26 / 2,\n    border: `1px solid ${theme.palette.grey[400]}`,\n    backgroundColor: theme.palette.grey[50],\n    opacity: 1,\n    transition: theme.transitions.create(['background-color', 'border']),\n  },\n  checked: {},\n  focusVisible: {},\n}))(({ classes, ...props }) => {\n  return (\n    <Switch\n      focusVisibleClassName={classes.focusVisible}\n      disableRipple\n      classes={{\n        root: classes.root,\n        switchBase: classes.switchBase,\n        thumb: classes.thumb,\n        track: classes.track,\n        checked: classes.checked,\n      }}\n      {...props}\n    />\n  );\n});\n\n\nconst useStyles = makeStyles((theme) => ({\n  mainGrid: {\n    marginTop: theme.spacing(3),\n  },\n  mode: {\n    width:'100%',\n    display:'flex',\n    justifyContent:'center'\n  },\n  itemList: {\n    listStyle: 'none'\n  },\n  links: {\n    color: theme.palette.primary.light,\n    textDecoration: 'none',\n    fontSize: 20\n  },\n  item: {\n    marginBottom: 20\n  },\n  help: {\n    color: theme.palette.primary.light,\n    textDecoration: 'none'\n  }\n}));\n\nfunction Home({isDark, setDarkMode}) {\n  const classes = useStyles();\n  \n\n  const darkModeToLocal = () => {\n    setDarkMode(true)\n    if(!isDark) localStorage.setItem('dark', true)\n    else localStorage.removeItem('dark')\n  }\n\n  return (\n    <React.Fragment>\n      <FormControlLabel\n        className={classes.mode}\n        control={<IOSSwitch checked={isDark} onChange={darkModeToLocal} name=\"checkedB\" />}\n        label=\"Change color mode\"\n      />\n      <CssBaseline />\n      <Container>\n        <Header title=\"LOGOS POLYTECHNIKOS\" isAbout/>\n        <Grid container spacing={3}>\n\n          <Grid item xs={9}>\n            <Content/>\n          </Grid>\n\n          <Grid item align=\"right\" xs={3} >\n            <ul className={classes.itemList}>\n              <li className={classes.item}>\n                <Link className={classes.links} to={`/category/${TOPICS.PROGRAMMING}`}>Programming</Link>\n              </li>\n              <li className={classes.item}>\n                <Link className={classes.links} to={`/category/${TOPICS.SCIENCE}`}>Science</Link>\n              </li>\n              <li className={classes.item}>\n                <Link className={classes.links} to={`/category/${TOPICS.MEDICINE}`}>Medicine</Link>\n              </li>\n              <li className={classes.item}>\n                <Link className={classes.links} to={`/category/${TOPICS.NAVALNY}`}>Navalny</Link>\n              </li>\n            </ul>\n          </Grid>\n\n        </Grid>\n      </Container>\n      <Footer title=\"LOGOS POLYTECHNIKOS\" description=\"Created by DOIT\" />\n    </React.Fragment>\n  );\n}\n\nconst mapState = (state) => {\n  return {\n    isDark: state.articles.isDark,\n  }\n}\n\nconst Content = () => {\n  const classes = useStyles()\n  return (\n    <section style={{padding:'0 24px'}}>\n      <br/>\n      <Typography paragraph>\n          <b>LOGOS POLYTECHNIKOS je vysokoškolský odborný recenzovaný časopis</b>, který slouží pro publikační aktivity akademických pracovníků Vysoké školy polytechnické Jihlava i jiných vysokých škol, univerzit a výzkumných organizací. Je veden na seznamu recenzovaných odborných a vědeckých časopisů ERIH PLUS - European Reference Index for the Humanities and the Social Sciences.\n      </Typography>\n      \n      <Typography paragraph>\n          Od roku 2010 do roku 2018 byl časopis vydáván čtyřikrát ročně v elektronické a tištěné podobě. Od roku 2019 vychází třikrát ročně v elektronické verzi. Redakční rada časopisu sestává z interních i externích odborníků. Funkci šéfredaktora zastává prorektor pro tvůrčí a projektovou činnost Vysoké školy polytechnické Jihlava. Funkce odpovědných redaktorů jednotlivých čísel přísluší vedoucím kateder Vysoké školy polytechnické Jihlava. Veškeré vydávané příspěvky prochází recenzním řízením a jsou pečlivě redigovány.\n      </Typography>\n      \n      <Typography paragraph>\n          <b>Tematické a obsahové zaměření časopisu</b> reflektuje potřeby oborových kateder Vysoké školy polytechnické Jihlava. Na základě souhlasu odpovědného redaktora mohou katedry poskytnout publikační prostor i odborníkům bez zaměstnanecké vazby k Vysoké škole polytechnické Jihlava.\n      </Typography>\n      \n      <Typography paragraph>\n          <b>V časopise je možné publikovat</b> odborné články, statě, přehledové studie, recenze a další typy odborných příspěvků v českém, slovenském a anglickém jazyce. Do recenzního řízení jsou přijímány příspěvky tematicky odpovídající zaměření časopisu a formálně upravené dle redakční šablony (viz níže).\n      </Typography>\n      <Typography>\n        V časopise je možné publikovat\n        <div><a className={classes.help} href=\"http://www.vspj.cz/soubory/download/id/7344\">Pokyny pro přispěvatele</a></div>\n        <div><a className={classes.help} href=\"http://www.vspj.cz/soubory/download/id/4186\">Šablona</a></div>\n        <div><a className={classes.help} href=\"http://www.vspj.cz/soubory/download/id/7345\">Recenzní řízení</a></div>\n      </Typography>\n      <Typography>\n          <b>Jazyky, ve kterých lze publikovat: </b>\n          angličtina, čeština a slovenština\n          <br/>\n          Termíny uzávěrek pro sběr příspěvků:\n\n          <ul style={{paddingLeft:40, marginTop: 20}}>\n            <li>1/2021 - ošetřovatelství, porodní asistence a další zdravotnické obory (31. 12. 2020)\n            <li>2/2021 - ošetřovatelství, porodní asistence a další zdravotnické obory, sociologie, sport, psychologie, sociální práce (30. 4. 2021)</li>\n            <li>3/2021 - ekonomika, management, marketing, statistika, operační výzkum, finanční matematika, pojišťovniství, cestovní ruch, regionální rozvoj, veřejná správa (31. 8. 2021)</li></li>\n          </ul>\n          Pokud rozsah doručených příspěvků překročí kapacitu příslušného vydání, bude přijímání příspěvků ukončeno před uvedeným termínem.\n          <br/>\n          Adresa pro odesílání příspěvků: logos@vspj.cz\n          Kontaktní osoba: Bc. Zuzana Mafková: zuzana.mafkova@vspj.cz\n<br/>\n          Adresa nakladatele: Vysoká škola polytechnická Jihlava, redakce LOGOS POLYTECHNIKOS, Tolstého 1556/16, 586 01 Jihlava\n<br/>\n<br/>\n\n          <b>ISSN 2464-7551 (Online)</b>\n          <br/>\n          <i>Registrace MK ČR E 19390 – pro čísla z let 2010 až 2018 (vydávání tištěné verze časopisu bylo ukončeno).\n          ISSN 1804-3682 (Print) – pro čísla z let 2010 až 2018 (vydávání tištěné verze časopisu bylo ukončeno).</i>\n          <br/>\n          <b>Šéfredaktor</b><br/>\n          doc. Ing. Zdeněk Horák, Ph.D. (Vysoká škola polytechnická Jihlava)\n          <br/>\n          <b>Redakční rada</b><br/>\n          prof. PhDr. RNDr. Martin Boltižiar, PhD. (Univerzita Konštantína Filozofa v Nitre)<br/>\n          prof. RNDr. Helena Brožová, CSc. (Česká zemědělská univerzita v Praze)<br/>\n          doc. PhDr. Lada Cetlová, PhD. (Vysoká škola polytechnická Jihlava)<br/>\n          prof. Mgr. Ing. Martin Dlouhý, Dr. MSc. (Vysoká škola ekonomická v Praze)<br/>\n          prof. Ing. Tomáš Dostál, DrSc. (Vysoká škola polytechnická Jihlava)<br/>\n          doc. Ing. Jiří Dušek, Ph.D. (Vysoká škola evropských a regionálních studií)<br/>\n          doc. RNDr. Petr Gurka, CSc. (Vysoká škola polytechnická Jihlava)<br/>\n          Ing. Veronika Hedija, Ph.D. (Vysoká škola polytechnická Jihlava)<br/>\n          doc. Ing. Zdeněk Horák, Ph.D. (Vysoká škola polytechnická Jihlava)<br/>\n          Ing. Ivica Linderová, PhD. (Vysoká škola polytechnická Jihlava)<br/>\n          prof. MUDr. Aleš Roztočil, CSc. (Vysoká škola polytechnická Jihlava)<br/>\n          doc. PhDr. David Urban, Ph.D. (Vysoká škola polytechnická Jihlava)<br/>\n          doc. Dr. Ing. Jan Voráček, CSc. (Vysoká škola polytechnická Jihlava)<br/>\n          RNDr. PaedDr. Ján Veselovský, PhD. (Univerzita Konštantína Filozofa v Nitre)<br/>\n          doc. Ing. Libor Žídek, Ph.D. (Masarykova univerzita Brno)<br/>\n      </Typography>\n    </section>\n  )\n}\n\nexport default connect(mapState, {setDarkMode})(Home)\n","import { journalAPI } from \"../../api/serviceApi\";\nimport { ActionThunkType, AllActions } from \"../reduxStore\";\n\nconst SETJOURNAL = 'SETJOURNAL';\n\n\nconst initialState = {\n    journals: [] as any\n}\n\nexport const journalReducer = (state = initialState, action:JournalAction):StateJournal => {\n    switch(action.type) {\n        case SETJOURNAL: {\n            return {\n                ...state,\n                journals: action.payload\n            }\n        }\n        default: \n            return state\n    }\n\n}\n\nconst allActionCreators = {\n    setJournals:(payload:any) => ({type:SETJOURNAL, payload})\n}\n\n/////////\n//THUNK//\n/////////\n\nexport const setJournals = ():RegisterThunk => async (dispatch) => {\n    const data = await journalAPI.getJournals()\n    dispatch(allActionCreators.setJournals(data))\n}\n\nexport const newJournal = (name:string, document:File):RegisterThunk => async dispatch => {\n    await journalAPI.newJournal(name, document)\n    dispatch(setJournals())\n}\n\nexport const deleteJournal = (id:string):RegisterThunk => async dispatch => {\n    await journalAPI.deleteJournal(id)\n    dispatch(setJournals())\n}\n\ntype JournalAction = ReturnType<AllActions<typeof allActionCreators>>\ntype StateJournal = typeof initialState\ntype RegisterThunk = ActionThunkType<JournalAction>\n","import { Button, Container, createStyles, CssBaseline, Fab, FormControlLabel, makeStyles, TextField, Theme, Tooltip, Typography, useTheme } from '@material-ui/core'\nimport React, { ChangeEvent, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteJournal, newJournal, setJournals } from '../../redux/reducers/journalReducer';\nimport { RootState } from '../../redux/reduxStore';\nimport AddIcon from '@material-ui/icons/Add';\nimport Modal from '@material-ui/core/Modal';\nimport Header from '../Home/Header'\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nconst useStyles = makeStyles((theme:Theme) => createStyles({\n    link: {\n        color: theme.palette.primary.light,\n        textDecoration: 'none',\n    },\n    table: {\n        minWidth: 650,\n      },\n      formControl: {\n        minWidth: 120,\n      },\n      selectEmpty: {\n        marginTop: theme.spacing(2),\n      },\n      paper: {\n        width:'50%',\n        [theme.breakpoints.down('xs')]: {\n            width: '100%'\n        },\n        position: 'absolute',\n        backgroundColor: theme.palette.background.paper,\n        border: 'none',\n        left:'50%',\n        top:'50%',\n        transform:'translate(-50%, -50%)',\n        padding: '20px',\n        display:'flex',\n        flexDirection: 'column',\n        justifyContent:'center'\n      },\n      modalTitle: {\n        marginBottom:'20px'\n      },\n      readerInput: {\n        display:'none',\n      },\n      btns: {\n        width: '100%',\n        display:'flex',\n        justifyContent:'space-between',\n        marginTop: 20\n      },\n      fileName: {\n        display:'block',\n        marginBottom:'20px'\n      },\n      title: {\n        marginBottom: 20\n      },\n      uploadButton: {\n        marginTop: 10,\n        marginLeft: -1,\n        padding: 5,\n        width: 350,\n        backgroundColor: theme.palette.primary.main\n    }\n}));\n\nconst About = () => {\n    const dispatch = useDispatch()\n    const selectJournals = useSelector((state:RootState) => state.journals.journals)\n    const isEditor = useSelector((state:RootState) => state.auth.isEditor)\n\n    const [modal, setModal] = useState(false)\n\n    useEffect(() => {\n        dispatch(setJournals())\n    }, [dispatch])\n\n    return (\n        <Container maxWidth=\"lg\" style={{minHeight:'100vh'}}>\n            <CssBaseline />\n            <Header title=\"LP Magazines\"  isAbout={false}/>\n            <section style={{padding:'0 24px'}}>\n               \n                <>\n                    Aktuální ročník/číslo časopisu\n                    <br/>\n                    <Articles isEditor={isEditor} links={selectJournals}/>\n                </>\n            </section>\n           {\n               isEditor &&\n               <Tooltip onClick={() => setModal(true)} title=\"Add\" aria-label=\"add\">\n                    <Fab color=\"primary\" >\n                        <AddIcon />\n                    </Fab>\n                </Tooltip>\n           }\n           <NewJournalModal open={modal} setModal={setModal}/>\n        </Container>\n    )\n}\n\nconst Articles = ({links, isEditor}:any) => {\n    const classes = useStyles()\n    const dispatch = useDispatch()\n    const onDeleteHandler = (id:string) => {\n        dispatch(deleteJournal(id))\n    }\n\n    return (\n        <>\n            {\n                links.map((link:any) => {\n                    return <div key={link.id} style={{display: 'flex', alignItems:'center', marginBottom:10}}>\n                            <a target=\"_blank\" href={`http://backend.doit.kamisuel.cyou/journal/${link.id}/doc`} className={classes.link}>\n                                {link.name}\n                            </a>\n                            {isEditor&&<DeleteIcon style={{marginLeft: 20, cursor:'pointer'}} onClick={() => onDeleteHandler(link.id)}/>}\n                        </div>\n                })\n            }\n        </>\n    )\n}\n\nconst NewJournalModal = (props:any) => {\n\n    const classes = useStyles()\n    const dispatch = useDispatch()\n    const theme = useTheme()\n    const [name, setName] = useState('')\n    const [document, setDocument] = useState<File>()\n\n    const onHandleSave = () => {\n        if(document) {\n            dispatch(newJournal(name, document))\n        }\n        props.setModal(false)\n    }\n\n    const onFileSave = (e:ChangeEvent<HTMLInputElement>) => {\n        if(e.target.files&&e.target.files.length) {\n            setDocument(e.target.files[0])\n        }\n    }\n\n    return (\n        <Modal\n            open={props.open}\n            onClose={() => props.setModal(false)}\n            aria-labelledby=\"simple-modal-title\"\n            aria-describedby=\"simple-modal-description\"\n        >\n            <Container component=\"main\" maxWidth=\"sm\">\n                <form className={`${classes.paper}`}>\n                    <h2 style={{color:theme.palette.primary.light}} className={classes.modalTitle}>New document</h2>\n                    <TextField \n                        label=\"Name\" \n                        className={classes.title} \n                        value={name}\n                        onChange={(e) => setName(e.target.value)}\n                    />\n                    <FormControlLabel\n                        label=\"Upload file\"\n                        className={classes.uploadButton}\n                        control={<input type=\"file\" onChange={(e) => onFileSave(e)}/>}\n                    />\n                    <div className={classes.btns}>\n                        <Button variant=\"contained\" color=\"primary\" disabled={name&&document?false:true} onClick={onHandleSave}>Save</Button>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={() => props.setModal(false)}>Cancel</Button>\n                    </div>\n                </form>\n            </Container>\n        </Modal>\n    )\n}\n\nexport default About","import React from 'react'\n\nexport const AllCards = () => {\n    return (\n        <div>\n            \n        </div>\n    )\n}\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Link, useParams } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { STAGEMAP } from '../../Helps/StageMap';\nimport { getArticles } from '../../redux/reducers/articlesReducer';\nimport Header from './Header';\nimport { CssBaseline } from '@material-ui/core';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    display: 'flex',\n    position: 'relative',\n    marginBottom: theme.spacing(4),\n    paddingBottom:'30px',\n  },\n  cardDetails: {\n    flex: 1,\n  },\n  cardMedia: {\n    width: 160,\n  },\n  link: {\n    marginTop: '20px',\n    textDecoration: 'none',\n    color: theme.palette.primary.light,\n    fontSize:'20px',\n    cursor: 'pointer'\n  },\n  descr: {\n    display: 'block',\n    height: '200px',\n    overflow:'hidden',\n  },\n  mainGrid: {\n    marginTop: theme.spacing(3),\n  },\n  subTitles: {\n    color:'grey',\n    display: 'block',\n    fontSize:'16px',\n  }\n}));\n\nconst CategoryCards = () => {\n  const dispatch = useDispatch()\n  const  { id }  = useParams()\n  const selectPosts = useSelector(state => state.articles.articles)\n  \n  const featuredPosts = selectPosts.filter(el => el.stage===STAGEMAP.approved&&el.category===id)\n\n  const isFeaturedPosts = featuredPosts.length === 0\n\n  useEffect(() => {\n    dispatch(getArticles())\n  },[dispatch])\n  \n  return (\n    <React.Fragment>\n      <Header title=\"LOGOS POLYTECHNIKOS\"/>\n      <CssBaseline />\n      <Grid container spacing={2} style={{width:'100%'}}> \n        {featuredPosts.map((post) => (\n          <FeaturedPost key={post.id} post={post} />\n        ))}\n        \n      </Grid>\n      {isFeaturedPosts&& \n          <Typography align=\"center\">\n            There is no any article\n          </Typography>\n        }\n    </React.Fragment>\n  )\n}\n\nfunction FeaturedPost(props) {\n  const classes = useStyles();\n  const { post } = props;\n\n  return (\n    <Grid item xs={4}>\n      <Card className={classes.card} variant=\"outlined\">\n        <div className={classes.cardDetails}>\n          <CardContent>\n            <Typography variant=\"h4\">\n              {post.title}\n            </Typography>\n            <Typography className={classes.subTitles}>\n              Author: {post.author.login}\n            </Typography>\n            <Typography className={classes.subTitles}>\n              Category: {post.category}\n            </Typography>\n            <Typography variant=\"subtitle1\" paragraph className={classes.descr} >\n              {post.descr}\n            </Typography>\n            <Link className={classes.link} to={`/article/${post.id}`}>\n              Read more\n            </Link>\n          </CardContent>\n        </div>\n      </Card>\n    </Grid>\n  );\n}\n\nFeaturedPost.propTypes = {\n  post: PropTypes.object,\n};\n \n\nexport default CategoryCards","import React, { FC, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport Login from './components/Login/Login'\nimport ReaderContainer from './components/Main/MainContainer';\nimport { RootState } from './redux/reduxStore';\nimport {\n  Route,\n  Redirect,\n  Switch\n} from \"react-router-dom\";\nimport Register from './components/Register/Register';\nimport { getInit, initialization } from './redux/reducers/authReducer';\nimport Article from './components/Article/Article';\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { Paper } from '@material-ui/core';\nimport Home from './components/Home/Blog';\nimport About from './components/About/About';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { AllCards } from './components/Cards/AllCards';\nimport CategoryCards from './components/Home/FeaturedPost'\n\nconst App:FC<CommonProps> = (props) => {\n\n  useEffect(() => {\n    props.initialization()\n  }, [])\n\n  const theme = createMuiTheme({\n    palette: {\n      type: props.darkMode?'dark':'light'\n    }\n  })\n  if(!props.isInit) return <CircularProgress/>\n  return (\n    <ThemeProvider theme={theme}>\n      <Paper >\n        <Switch>\n          <Route path='/home' component={() => <Home/>}/>\n          <Route path='/admin/all' component={() => <AllCards/>}/>\n          <Route path='/about' component={() => <About/>}/>\n          <Route exact path='/admin' component={() => <ReaderContainer/>}/>\n          <Route exact path='/login' component={() => <Login/>}/>\n          <Route path='/register' component={() => <Register/>}/>\n          <Route path='/category/:id'><CategoryCards/></Route>\n          <Route path='/article/:id'><Article/></Route>\n          <Redirect from='/' to='/home'/>\n        </Switch>\n      </Paper>\n    </ThemeProvider>\n  );\n}\n\nconst mapState = (state:RootState):MapState => {\n  return {\n    isAuth: state.auth.isAuth,\n    role: state.auth.role,\n    darkMode: state.articles.isDark,\n    isInit: state.auth.isInit\n  }\n}\n\nexport default connect<MapState, MapDispatch, {}, RootState>(mapState,{getInit, initialization})(App)\n\ntype MapState = {\n  isAuth: boolean\n  role: string\n  darkMode: boolean\n  isInit: boolean\n}\ntype MapDispatch = {\n  getInit: () => void\n  initialization: () => void\n}\ntype CommonProps = MapState&MapDispatch","import { createStore, combineReducers, applyMiddleware, Action } from 'redux';\nimport thunk, { ThunkAction } from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport { authReducer } from './reducers/authReducer';\nimport { articlesReducer } from './reducers/articlesReducer';\nimport { registerReducer } from './reducers/registerReducer';\nimport { userReducer } from './reducers/usersReducer';\nimport { journalReducer } from './reducers/journalReducer';\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  articles: articlesReducer,\n  register: registerReducer,\n  users: userReducer,\n  journals: journalReducer,\n  form: formReducer\n})\n\nlet store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport type RootState = ReturnType<typeof rootReducer>\nexport type AllActions<T> = T extends {[key:string]: infer U} ? U : never \nexport type ActionThunkType<A extends Action, P = Promise<void>> = ThunkAction<P, RootState, unknown, A>\n\nexport default store;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store  from './redux/reduxStore';\nimport { HashRouter, } from 'react-router-dom'\nimport './index.css'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n,document.getElementById('root'));\n"],"sourceRoot":""}